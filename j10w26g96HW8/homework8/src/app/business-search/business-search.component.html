<div class = "mainblock">
    <h3 class = "info_title">
        Business search
    </h3>
    <br>
    <form [formGroup]="infoFormGroup" (ngSubmit)="formSubmit()" id="infoFormJS">
        <!-- keyword container -->
        <div class="container text-left">
            <div class="row">
                <div class="col">
                    <!-- keyword field -->
                    <label for="keyword" class="form-label">
                        Keyword<span class="asterisk"> *</span>
                    </label>
                    <input type="text" class="form-control form-control-lg" id="keyword" formControlName="keyword" required>
                    <div *ngIf="noKeyword" class="form-control alert alert-danger">
                        Please enter a keyword
                    </div>
                </div>
            </div>
        </div>
        <br>
        <!-- distance & category container-->
        <div class="container text-left">
            <div class="row">
                <div class="col">
                    <!-- distance field -->
                    <label for="distance" class="form-label">
                        Distance
                    </label>
                    <input type="text" class="form-control" id="distance"  formControlName="distance">
                </div>
                <div class="col">
                    <!-- category field -->
                    <label for="category" class="form-label">
                        Category<span class="asterisk"> *</span>
                    </label>
                    <select class="form-select" id="category"  formControlName="category">
                        <option value="All">Default</option>
                        <option value="arts">Arts & Entertainment</option>
                        <option value="health">Health & Medical</option>
                        <option value="travel">Hotels & Travel</option>
                        <option value="food">Food</option>
                        <option value="professional">Professional Services</option>
                      </select>
                </div>
            </div>
        </div>
        <br>
        <!-- Location container -->
        <div class="container text-left">
            <!-- Location field -->
            <div class="row">
                <div class="col">
                    <label for="location" class="form-label">
                        Location <span class="asterisk"> *</span>
                    </label>
                    <input type="text" class="form-control" id="location"  formControlName="location" required>
                    <div *ngIf="noLocation" class="form-control alert alert-danger">
                        Please enter a location
                    </div>
                    <br>
                    <!-- checkbox -->
                    <input class="form-check-input" type="checkbox"  formControlName="locationBoxCheck" (click)="locationBox()">
                    <label class="form-check-label" for="locationBoxCheck" id = "locationBoxCheck" >Auto-detect my location</label>
                </div>
            </div>
        </div>
        <br>
        <!-- button container -->
        <div class="container text-center">
            <div class="row justify-content-md-center">
              <div class="col-sm-2">
                <button type="submit" class="btn btn-danger" (click)="formSubmit()">Submit</button>
              </div>
              <div class="col-sm-1">
                <button type="button" class="btn btn-primary" (click)="clearInfo()">Clear</button>
              </div>
            </div>
        </div>
    </form>
</div>
<br>
<br>
<br>
<div *ngIf="haveBusinessTable" class = "businessTable">
    <table class="table table-striped">
        <thead class = "tableHeader">
        <tr>
            <th *ngFor = "let column of headers">
                {{column}}
            </th>
        </tr>
        </thead>
        <tbody>
            <tr *ngFor="let item of businessList; let i = index">
                <td class = "number_cell">{{i+1}}</td>
                <td class = "image_cell"><img src="{{item.image_url}}"></td>
                <td class = "business_cell"><a href="#businessInfo" (click) = "detailsSearch(item.id)">{{item.name}}</a></td>
                <td class = "rating_cell">{{item.rating}}</td>
                <td class = "distance_cell">{{item.distance}}</td>
            </tr>
        </tbody>
    </table>
</div>
<div *ngIf="haveNoBusinessTable" class = "businessNoTable">
    <h5 style="color: red">
        No results avaliable
    </h5>
</div>
<br>
<br>
<br>
<div *ngIf="haveBusinessDetails" class = "container businessInfo">
    <h3 class = "info_title">
        Business Info
    </h3>
    <br>
    <div class="container text-center businessCard">
        <mat-tab-group mat-align-tabs="center">
            <mat-tab label="Business Details"> 
                <div class="container text-center details ">
                    <div class="row">
                        <div class="col-sm h-50 ">
                            <h5>Address</h5>
                        </div>
                        <div class="col-sm h-50">
                            <h5>Category</h5>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm h-50 ">
                            <p>{{businessDetails.location}}</p>
                        </div>
                        <div class="col-sm h-50">
                            <p>{{businessDetails.category}}</p>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm h-50">
                            <h5>Phone</h5>
                        </div>
                        <div class="col-sm h-50">
                            <h5>Price range</h5>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm h-50">
                            <p>{{businessDetails.phone}}</p>
                        </div>
                        <div class="col-sm h-50">
                            <p>{{businessDetails.price}}</p>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm h-50">
                            <h5>Status</h5>
                        </div>
                        <div class="col-sm h-50">
                            <h5>Visit Yelp for More</h5>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm h-50">
                            <p>{{businessDetails.status}}</p>
                        </div>
                        <div class="col-sm h-50">
                            <a href={{businessDetails.url}} target="_blank" ><u>Business Link</u></a>
                        </div>
                    </div>
                </div>
                <br>
                <br>
                <div class = "container text-center">
                    <div id="carouselImages" class="carousel carousel-dark slide" data-bs-ride="carousel">
                        <div class="carousel-inner">
                            <div class="carousel-item active carousel_image_size">
                                <img src="{{businessDetails_photo_first}}" class="img-fluid w-50 h-50">
                            </div>  
                            <div class="carousel-item carousel_image_size" *ngFor="let item of businessDetails_photo" >
                                <img src="{{item}}" class="img-fluid w-50 h-50">
                            </div>
                        </div>
                        <button class="carousel-control-prev" type="button" data-bs-target="#carouselImages" data-bs-slide="prev">
                          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                          <span class="visually-hidden">Previous</span>
                        </button>
                        <button class="carousel-control-next" type="button" data-bs-target="#carouselImages" data-bs-slide="next">
                          <span class="carousel-control-next-icon" aria-hidden="true"></span>
                          <span class="visually-hidden">Next</span>
                        </button>
                    </div>
                </div>
            </mat-tab>
            <mat-tab label="Map Location"> 
                google maps here
            </mat-tab>
            <mat-tab label="Reviews"> 
                Content 3 
            </mat-tab>
          </mat-tab-group>
    </div>
</div>
